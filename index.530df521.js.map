{"mappings":"YAAA,IAIQA,EACAC,EACAC,EALFC,EAAU,wEAoChB,SAASC,EAAgBC,GACvB,IAAML,EAASM,SAASC,cAAc,WAChCC,EAAUF,SAASC,cAAc,aACjCL,EAAYI,SAASC,cAAc,UACnCE,EAAaH,SAASI,eAAe,eACrCC,EAAYL,SAASI,eAAe,cAE1CV,EAAOY,MAAMC,QAAU,QACvBL,EAAQI,MAAMC,QAAU,OACxBX,EAAUY,YAAc,GAExBL,EAAWG,MAAMC,QAAU,OAC3BF,EAAUG,YAAc,GAExB,IAAMC,EAAQC,aAAaX,GAMrBY,EAAY,CAChBC,cANoBH,EAAMI,MAAMC,IAOhCC,UANgBN,EAAMO,KAOtBC,iBANuBR,EAAMS,YAO7BC,iBANuBV,EAAMW,aASzBC,EAAc,IAAIC,gBAAgB,CACtCC,UAAWd,EAAMe,KAGbC,EAAS,8CAA0DC,OAAZL,GAE7D,OAAOM,MAAMF,EAAQ,CACnBG,QAAS,CACP,YAAa/B,KAGdgC,MAAK,SAACC,G,OAAaA,EAASC,M,IAC5BF,MAAK,SAACG,GACL,IAAMC,EAAUD,EAAK,GAKrB,OAHArB,EAAUC,cAAgBqB,EAAQnB,IAClCH,EAAUZ,QAAUkC,EAAQC,OAAO,GAAGV,GAE/Bb,C,IAERkB,MAAK,SAACM,GACLhC,EAAWiC,IAAMD,EAAUvB,cAC3BT,EAAWG,MAAMC,QAAU,QAC3BF,EAAUG,YAAc2B,EAAUlB,iBAClCvB,EAAOY,MAAMC,QAAU,OACvBL,EAAQI,MAAMC,QAAU,O,IAEzB8B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZ1C,EAAUY,YAAc,qCACtBd,EAAOY,MAAMC,QAAU,OACvBJ,EAAWG,MAAMC,QAAU,M,KA3F3Bb,EAASM,SAASC,cAAc,WAChCN,EAAcK,SAASC,cAAc,iBACrCL,EAAYI,SAASC,cAAc,UAEzCP,EAAOc,YAAc,2BACAd,EAAdY,MAAMC,QAAU,QACvBZ,EAAYW,MAAMC,QAAU,OAC5BX,EAAUY,YAAc,GAEjBmB,MAbG,sCAaQ,CAChBC,QAAS,CACP,YAAa/B,KAGdgC,MAAK,SAACC,G,OAAaA,EAASC,M,IAC5BF,MAAK,SAACG,GACLA,EAAOA,EAAKS,QAAO,SAAChC,G,IAAUiC,EAAA,OAAoB,OAAT,QAAXA,EAAAjC,EAAMI,aAAK,IAAX6B,OAAA,EAAAA,EAAa5B,I,IAC3CJ,aAAesB,C,IAEhBH,MAAK,YA8EN,WAGF,IAFA,IAAMc,EAAgB3C,SAASC,cAAc,iBAEpC2C,EAAI,EAAGA,EAAIlC,aAAamC,OAAQD,GAAK,EAAG,CAC/C,IAAMnC,EAAQC,aAAakC,GACvBE,EAAS9C,SAAS+C,cAAc,UAEpCD,EAAOE,MAAQJ,EACfE,EAAOG,UAAY,GAAcvB,OAAXjB,EAAMO,MAC5B2B,EAAcO,YAAYJ,E,EAtFxBK,GACAzD,EAAOY,MAAMC,QAAU,OACvBZ,EAAYW,MAAMC,QAAU,O,IAE7B8B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZ1C,EAAUY,YAAc,+BACAd,EAAjBY,MAAMC,QAAU,M,KC1B1B8B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZtC,SAASC,cAAc,UAAUO,YAAc,a,IAGnDR,SAASC,cAAc,iBAAiBmD,iBAAiB,UAAU,SAACC,GAElEvD,EADgBuD,EAAMC,OAAON,M","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1/breeds';\nconst api_key = 'live_VZ1SLbLWDxhfqJdDTkoccHIln3ksGsRzopmCmcFYOh2oF7OuabnBdzspIN63yDCR';\n\nfunction fetchBreeds() {\n  const loader = document.querySelector('.loader');\n  const breedSelect = document.querySelector('.breed-select');\n  const errorText = document.querySelector('.error');\n\n  loader.textContent = 'Грузим, грузим загружаем';\n  loader.style.display = 'block';\n  breedSelect.style.display = 'none';\n  errorText.textContent = '';\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      data = data.filter((breed) => breed.image?.url != null);\n      storedBreeds = data;\n    })\n    .then(() => {\n      populateBreedsSelect();\n      loader.style.display = 'none';\n      breedSelect.style.display = 'block';\n    })\n    .catch((error) => {\n      console.log(error);\n      errorText.textContent = 'Ошибка загрузки пород кошек!';\n      loader.style.display = 'none';\n    });\n}\n\nexport { fetchBreeds };\n    \nfunction fetchCatByBreed(breedId) {\n  const loader = document.querySelector('.loader');\n  const catInfo = document.querySelector('.cat-info');\n  const errorText = document.querySelector('.error');\n  const breedImage = document.getElementById('breed_image');\n  const breedDesc = document.getElementById('breed_json');\n\n  loader.style.display = 'block';\n  catInfo.style.display = 'none';\n  errorText.textContent = '';\n\n  breedImage.style.display = 'none';\n  breedDesc.textContent = '';\n\n  const breed = storedBreeds[breedId];\n  const breedImageURL = breed.image.url;\n  const breedName = breed.name;\n  const breedDescription = breed.description;\n  const breedTemperament = breed.temperament;\n\n  const breedInfo = {\n    breedImageURL,\n    breedName,\n    breedDescription,\n    breedTemperament,\n  };\n\n  const queryParams = new URLSearchParams({\n    breed_ids: breed.id,\n  });\n\n  const apiUrl = `https://api.thecatapi.com/v1/images/search?${queryParams}`;\n\n  return fetch(apiUrl, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      const catData = data[0];\n\n      breedInfo.breedImageURL = catData.url;\n      breedInfo.breedId = catData.breeds[0].id;\n\n      return breedInfo;\n    })\n    .then((breedInfo) => {\n      breedImage.src = breedInfo.breedImageURL;\n      breedImage.style.display = 'block';\n      breedDesc.textContent = breedInfo.breedDescription;\n      loader.style.display = 'none';\n      catInfo.style.display = 'block';\n    })\n    .catch((error) => {\n      console.log(error);\n      errorText.textContent = 'Ошибка загрузки информации о коте!';\n        loader.style.display = 'none';\n        breedImage.style.display = 'none';\n    });\n}\n\nexport { fetchCatByBreed };\n    \n    function populateBreedsSelect() {\n  const breedSelector = document.querySelector('.breed-select');\n\n  for (let i = 0; i < storedBreeds.length; i += 1) {\n    const breed = storedBreeds[i];\n    let option = document.createElement('option');\n\n    option.value = i;\n    option.innerHTML = `${breed.name}`;\n    breedSelector.appendChild(option);\n  }\n    }\n\n    function updateCatInfo(breedInfo) {\n  const breedImage = document.getElementById('breed_image');\n  const breedDescription = document.getElementById('breed_json');\n\n\n  breedImage.src = breedInfo.breedImage;\n  breedDescription.textContent = breedInfo.breedDescription;\n};\n\n    export { updateCatInfo };\n\n","\n\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\nfetchBreeds()\n  .catch((error) => {\n    console.log(error);\n    document.querySelector('.error').textContent = 'нема котика';\n  });\n\ndocument.querySelector('.breed-select').addEventListener('change', (event) => {\n  const breedId = event.target.value;\n  fetchCatByBreed(breedId);\n});\n"],"names":["loader","breedSelect","errorText","$8994e83c1b13b9e2$var$api_key","$8994e83c1b13b9e2$export$57b7d3a597416aa2","breedId","document","querySelector","catInfo","breedImage","getElementById","breedDesc","style","display","textContent","breed","storedBreeds","breedInfo1","breedImageURL","image","url","breedName","name","breedDescription","description","breedTemperament","temperament","queryParams","URLSearchParams","breed_ids","id","apiUrl","concat","fetch","headers","then","response","json","data","catData","breeds","breedInfo","src","catch","error","console","log","filter","ref","breedSelector","i","length","option","createElement","value","innerHTML","appendChild","$8994e83c1b13b9e2$var$populateBreedsSelect","addEventListener","event","target"],"version":3,"file":"index.530df521.js.map"}